package com.overloup.squidgame.utilities;

import java.util.Random;

import org.bukkit.craftbukkit.v1_16_R3.entity.CraftPlayer;
import org.bukkit.entity.Player;

import com.mojang.authlib.GameProfile;
import com.mojang.authlib.properties.Property;
import com.overloup.squidgame.Main;

import net.minecraft.server.v1_16_R3.PacketPlayOutPlayerInfo;
import net.minecraft.server.v1_16_R3.PlayerConnection;

public class ChangeSkin {

	public static void change(Player player) {
		GameProfile profile = ((CraftPlayer) player).getHandle().getProfile();
		PlayerConnection connection = ((CraftPlayer) player).getHandle().playerConnection;

		connection.sendPacket(new PacketPlayOutPlayerInfo(PacketPlayOutPlayerInfo.EnumPlayerInfoAction.REMOVE_PLAYER,
				((CraftPlayer) player).getHandle()));

		Property skin = getRandomSkin();
		if (Main.frontman.equals(player))
			skin = FrontMan();
		if (Main.guards.contains(player))
			skin = Guard();
		profile.getProperties().removeAll("textures");
		profile.getProperties().put("textures", skin);

		connection.sendPacket(new PacketPlayOutPlayerInfo(PacketPlayOutPlayerInfo.EnumPlayerInfoAction.ADD_PLAYER,
				((CraftPlayer) player).getHandle()));
	}

	private static Property getRandomSkin() {
		switch (new Random().nextInt(5)) {
		case 0:
			return new Property("textures",
					"ewogICJ0aW1lc3RhbXAiIDogMTYzMzUxNjA2ODk3NywKICAicHJvZmlsZUlkIiA6ICIwZjEwMmZjOTIyNjU0ZGUyYjkzOTExNzJjZDk0MmUzOSIsCiAgInByb2ZpbGVOYW1lIiA6ICJXYWxsaWJlYXIiLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNDUzZGQyYzdhMzdkZGJhNjM3ZjZiNjIyMzlmNGJkYTk3ZDY1YmEzNjg0NDFkNWNhNGY2OWUxYWMzNzYxZGY5NiIKICAgIH0KICB9Cn0=",
					"XYcGtz8Db2BVUTfYtrIXM1Ls0Jf/GlVExlMvPejY3Tg+fo/aYk4o5/Z3Sn8cHfxFZq8M7u8/oqot9aVn1J41wdtR/ztDGcJ8f7rAXhTnekqG5lBBIMQ1K/szYmKcD+ZC+Tx0ijPkIJrL72C9IyybTGFGIF7AeXPcJnfYGwenffjNqUfQGhxFvNNp8ezNbeHW8HlE3FUM9Kpx6mqDRsT/399JVY37LURdERPuY5QOpyp8nZo/9RERITR364wzKVS+ARIhIECZUh5rMC6ZbntGnof8FfvWUmlurFuZFJZgrcsFaeHuiMjQTBy6CAlvJp7y+HNoCRJG46KdKmPBjc1FvABhXMHMBGftRfmuyeTW9tjoXd4wqTxLL9ljvtAFRboJxl2UkegtxFNzsBmJOZMIJxOZP7bCo6XP3/lSiZ5mkHnPlzc7hPkoo1TcKjj3keFqxBEEFqkXPP4Mcrw8g8snQ8R60cOTAKM9bU7ognBUpRk+UN9dZ4v1aem6IUIImuiprKGMFCnZMlGCjqrzr07BFOHcc2ahyZbJuJEOaOqHQZSshj1FubH0l4AQZOuBJbX6H1gt7J55ZV0WRDJ4nCmQ0SEsgDx+dlf4c0FqZGKVZMtByoHTNNXOCO7/22ZwjLqoh+pINmVhZdXZ4A3ov38tZlEHssAnZp1soXE5lZ71msc=");
		case 1:
			return new Property("textures",
					"ewogICJ0aW1lc3RhbXAiIDogMTYzMjc4MTYxODI0MiwKICAicHJvZmlsZUlkIiA6ICJhYTZhNDA5NjU4YTk0MDIwYmU3OGQwN2JkMzVlNTg5MyIsCiAgInByb2ZpbGVOYW1lIiA6ICJiejE0IiwKICAic2lnbmF0dXJlUmVxdWlyZWQiIDogdHJ1ZSwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlLzM0ZTUyMThhZTFlOWMwODMxOWRhMjRmNzE1YzlhZjRiYjFjMzU2MTI1NTdiYWIxZDZlNjE5NTFiZjVjYmU1MzIiLAogICAgICAibWV0YWRhdGEiIDogewogICAgICAgICJtb2RlbCIgOiAic2xpbSIKICAgICAgfQogICAgfQogIH0KfQ==",
					"QTju7FmrG/C0HTCQwXikyq+aoCMCZXeD7ybjR18azX1G+6pdowi/MUvHUDb1uRo+rzGGwuDLGg8ZnzNjvwDAYLuoqqALZ7dz5usRLCLJaorD2uugWtWaacBjAIYBz/q9k/SB2uMNp4ZIs/KH4vW/9K2ja0r1fGEUKujYRoNwmCOegydG0+pEPH+TZqPcYBM27nj4HPy4hDIC6i9/M2jCftGZGrorcb1x5OG0cWZE+lVhnBzEsMiAKj+0rOttOT41FzLa9j3bLPTBViC++Tgk9wEltekrFkhWlHpfbDyE9hBzitNJX5CDfUhbn9QSu0pd/IeRvlQlWB9Nq2Ea0o0wKFv7lkjrig3dj7KrPfnwEF8ZrddDkZU2cGZnC3vZyrFgY29DnjhZ3xNACrdQVP1DvmdWxy6itTEFswxMmIUjEygI3ocHNTh2XHoTOH2mgwB3yWEX1aHCQUGu2ZM6UWTFRfAocF2EiODX+ibvuwoGqWvQP7yJxuTAlpN0Um8BVSxNppY9EPD6i/mu9mDAVwbJjAS77XiMUu5tMAZKBCUPhPAbloQ5mwtYYs5G70iUh6FsOYt+3glYwuZaeV4HuZTTkESKe++SACMCw2HVtSVUKgCiiY8mR4zTmDZ4kuyjZ0cNm53VFOOO6il88MY/cjcBXVR+mowo9clxM3RzVsOZIbI=");
		case 2:
			return new Property("textures",
					"ewogICJ0aW1lc3RhbXAiIDogMTYzMjY2OTI3MDI1NywKICAicHJvZmlsZUlkIiA6ICI3NTE0NDQ4MTkxZTY0NTQ2OGM5NzM5YTZlMzk1N2JlYiIsCiAgInByb2ZpbGVOYW1lIiA6ICJUaGFua3NNb2phbmciLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmFiOGExOTBhMjFkNGYzMjFlNmRhMzQ3MjdhOTFiOGY5YTM3ZDkyNjk1ODhlNTk1YmVhODc2MDFiYmQ0ZjQyNyIsCiAgICAgICJtZXRhZGF0YSIgOiB7CiAgICAgICAgIm1vZGVsIiA6ICJzbGltIgogICAgICB9CiAgICB9CiAgfQp9",
					"wFLyDwryQ3K6WlsGUauBtBFxX8zjl22l628QLzshugS4eEti2z5MIF0lEPPdU3Wqw0unjIn/Wvg8I0Xh5Xp+9t2yRBdwfH6qwQrMp6zxb8E2jiVq4WNIqf+18FTR8dGlMYPwdQ3ROMUxPB82JRPhxglKLfuKtXxY+M8AkmIAixQbHAmtqEko+zc2kk3CKQaW6KmcwFWM7K0KdZ/I8Q+Pf6REBplJamvfipZ2ru1oFB64kcp/gsIvG1t9yP4EM5c2ZAsl9GrewcVcrbCyufwV6s2LQAyjvAfgNR2hkwYQhvHqgDX/E/1hIC5anJQRkEmcrugKbYBBeafOMeASFA7fD7Kc+jWbq6g2UE+wDw4/1Q/a1WGdDjPdO3aLHVnbC0TDfCG7ZqON+T3bN0yXIjoDpWcWTdSWaG2V64vcnR4GQadEpACG+umdr/kLOzTcYgYHbi1u2UNcUfL8W9GuRzhDEM4y2FAVMAl6KCNMaIHo8EDxlpqyMR3jRlLh0NTwXDf8bksxw1viWt8MvLbcAWRdxKrOXOAKyJ8cFY4qLHQlMig5jJAhQAlRWhuOQcSB4z7PVAk4PSO3N7WgsbUmZTMZOeFNbe+mg9pv7FlhZzwAcuD0osR53NX9u1dSJGQAoHpX8gJfmOk0reK6i+UBaJVN9V39/bNvXILnK28aTRV0MLQ=");
		case 3:
			return new Property("textures",
					"ewogICJ0aW1lc3RhbXAiIDogMTYzNTI5MTg1MDQwMCwKICAicHJvZmlsZUlkIiA6ICJiNjc3NTgwYzExYmU0ZjNiODI1OGM0YjBkNzNhNzg0ZiIsCiAgInByb2ZpbGVOYW1lIiA6ICJPZmZpY2lhbGx5SksiLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMmUxMjQ0ZmNhNjRlOGVlOWNjODY5NGUxZDJjMmY3NjdlY2QwYmY3ODNmN2YwNjU5N2MzNzYyMzlkZDg2OWVjNSIsCiAgICAgICJtZXRhZGF0YSIgOiB7CiAgICAgICAgIm1vZGVsIiA6ICJzbGltIgogICAgICB9CiAgICB9CiAgfQp9",
					"Qa9qTG+PYvdIvWUbxKQZ11gAHamxZUO+BDCRyG8n4GXJSlnpO5W99fGilb+F55NbPScLE1jJG1AElOWjXqU6u5+TUEFiBpTGo3qr7JzIzLiv/L8C0IRn5CVrne2ZyZJvGRzoLZ1h+zl0v0TODtvOfLHORR7Jof+w5lKfIbYh+kbJqFoIMcNzLpa1RkY7tiwkZ1JJNHdJSkPIZi4Rdtye3pnV0Xp5sEjv+OcRTxvKLXGy9EKhqUPd/QzD8Tp++zgMrkeB4Qay7bckW9vCJovNvd/zmlFZILX5BhOqnVvdzBsHyEw2DydEWBIQtPMYTkOPIsJqvApgpXXfX7w4qo1oEsohfStoGziWQcA+0+V/mPIl/MZ0LwkFnN3qqexo4UI721J2PUqM+K2cncK3+vGCLNIwliNL0c5sWuQ8f5fj4TJyfC5nITCWaR4ALptcg4rUnsCmfT0vcFT4nvD8WOcpQ4W9FmaL8l+x9aeF2RV0yWR/hbaQiGAlAryzJ0NmuT7JEBOW5TUwx7JxI2AjhKxXf5tmHBeAY7Od236Smes0v7VjWLXKKDJNqAeSmz9kBD3Iua5QCydXtBq9J3LQXE7jSGp3fvycb3YA0ZCq3ony6ZHENxoPhofCUEfqZJzw+yvE78ydoVdknzvJqxRgMyr32X7/S2oEH15KUT/tRO2jYNA=");
		default:
			return new Property("textures",
					"ewogICJ0aW1lc3RhbXAiIDogMTYzMzY5MTc1OTczNCwKICAicHJvZmlsZUlkIiA6ICI0ZTMwZjUwZTdiYWU0M2YzYWZkMmE3NDUyY2ViZTI5YyIsCiAgInByb2ZpbGVOYW1lIiA6ICJfdG9tYXRvel8iLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMzI2YWNkMTE2YjdkNWJlODY0N2UwZDc1NzIzNTczMTE1ZDkxZWU5OGI1ZTVhZDlmYmUyN2ZhMjZlNTA1MTEyYSIsCiAgICAgICJtZXRhZGF0YSIgOiB7CiAgICAgICAgIm1vZGVsIiA6ICJzbGltIgogICAgICB9CiAgICB9CiAgfQp9",
					"aoI8f+S+aaUUrYgRiowvgdhjKy0yer4RVdkOsnoxyXfECFC1/m2/ugL0Pgbc5K1vPUgQcoAAvcyPWHFahLKM34x8NX1Us/Nhy/UrWFdOEuVkgPLA8PxGnzMiRBHeHJ6+NZ1O3SeevH2fbv9/KRBZzrCbRzOJzjwGIZOdqJ3zNNE2Sq2G5lpLG0xmqmKLM1uslshRsupPIUFsAlIz8ZEc6QB6QQafj+eMzdd6zMyHJyHopRJ64GfBfVoPQpdtYidGHuxgXSLxEFE4Z77bqSPaU2ufRnmO8VeaudA829dptQs/VD14cqJyf8g2oOc6C6P9SjDDL1NKq7FL1kAQ87f+qK5N2tefI5pYHVrAsfzEs26wVsw4usJmtkjIjyu8FGlUPo0KIk7scLcxH5PMPVYfiGAX8tS+GquY+ZKM5bntmegKLFFBRPTDSEwODgszTlKP7dhyhNF6V1WZnbn4E1SAKkaf879ghvC+h7POiN6U3MzU8KVWQeI+v4Dk0r5HazV/T+tCt6HbglBFwV+nqRi5td4CiOpygCEr1fIM9Z08HkVIxeRPNfJYqAxlrhPs8ZigELrcMRr5zeKJQYHTxqufHxusy3EihMH7zHEp1lYIgo2wDFtkh36FWMFuo7+o9st1FjRLFT9ORObOWF4bLqWVYqqFUMFwt7WV8CEz/b9frlg=");
		}
	}

	private static Property FrontMan() {
		return new Property("textures",
				"ewogICJ0aW1lc3RhbXAiIDogMTYzNDg2NzY5MjA1OCwKICAicHJvZmlsZUlkIiA6ICIzNDkxZjJiOTdjMDE0MWE2OTM2YjFjMjJhMmEwMGZiNyIsCiAgInByb2ZpbGVOYW1lIiA6ICJKZXNzc3N1aGgiLAogICJzaWduYXR1cmVSZXF1aXJlZCIgOiB0cnVlLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOGViNGE2NDBhOWYyNzU5MjgxOWIyNGZiOWNjNGE1YTA0YTYxNTE2NDY5NjE4NDAwMjYxYzhkMDk1ZjUxMjI1OSIKICAgIH0KICB9Cn0=",
				"EnqJQIMHToPH5j925ZBZiEoV6+ECgWJO3t34wdhYow4815jqLGinQgkp988+MjYXsbgi9WSjkD6XnMnkGOHBTmK4bb7P2rImjThkVR18HNlVkBnqN8eJxZwxdPN89bZNA8sexvf6CLje8aIzrUQAVeT/YN2NNMhl2/KgIsAGaVb0fxuzypZl7VrdWBO6uiYO82KP+XpotPv5aW+EMHSapZKONVQ0Qkx7OFsgdTtchu+qkZdknhf0hYAQLG6VYpYrUp9XoD5FM5jUUcVkA/vfrq1xEYUPg21srmI380pO+Aj8KQ+JTAfSf0aRcWe3q2ulTKpkoKFinfy1zyMQG08T2u88cwy/hNuQGr4K1vXdbtSemrBKNHWCC79hBzyGobF0msaYEWyum4kzSydfuhctwZ+aDJQkDc9FyBwdXtY6aEvOOWL7m5C5lHrrsfNDkbmMXs+MKjaz0Yzwf8G516044eiN7w+RY+dNAK9smASoYvMLcxoMTlZZNivfItE7Oryw8aASM8StxXeipIvaK/RMkFbj/mmK6B0dqe5jnWxYE6eWmFtQa67j7t3mfpwbCtvDlaAC9iRrlMqnSbteIQxcG2nvpkOqWlD+v0CI6pT8aX8R6Jd1M+3uqHzZg2IZEV1MnAKGj9vgImxM4W4FvwX9sNPtCM872hxBlEQPkTsLEwM=");
	}

	public static Property Guard() {
		return new Property("textures",
				"ewogICJ0aW1lc3RhbXAiIDogMTYzMzU0MDg4Mzg4NywKICAicHJvZmlsZUlkIiA6ICI0ZWQ4MjMzNzFhMmU0YmI3YTVlYWJmY2ZmZGE4NDk1NyIsCiAgInByb2ZpbGVOYW1lIiA6ICJGaXJlYnlyZDg4IiwKICAic2lnbmF0dXJlUmVxdWlyZWQiIDogdHJ1ZSwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlLzRhNmY1ZDQxYzdiMmNhNWIxZDEyOTAwNjVmNTM4NDlmMGZjN2FiOGY1ZWZiZTdjMmZiODE0MDk2ZmQyNDIxZDEiLAogICAgICAibWV0YWRhdGEiIDogewogICAgICAgICJtb2RlbCIgOiAic2xpbSIKICAgICAgfQogICAgfQogIH0KfQ==",
				"tOJe27PZqw8YQmnJkxyoKZbSZYzkBEwBKG9OFPuUfgGCnHUgjOUzgjynfLoX4Hm/b26pHtbu8rzS3y6X41xtMPP9Zj77V1wUIkIUlRI1RMOIvDq5apCh5feEKy8opScTSmwtVwLN6Oz4xU5pPdviOXTFK9H3h+cKZ/aCi5H8qPeG/VAC4j6PQlF7pSLXbgX5hWn7WZcDXuGXF5+j5dLy4mfJcR2cxqs3zsVEB6xwzdQ2y9N0rd0jAclWsyWeqR/X8J6/QUO0l5SR6mnwhrNp1FAVSOKamOpmzr166/gONIXjwZgFNEWXzXSymm+HsMOY2okxL1K2dLTzQdzyEOHgVUqRddcXL2LNa/pu3orwts/KMdNH/P4XMe1p0YKEMlgW7AsvtgjRZBiDbFguLelObM+1TyXkic4gFirJuD2KtgIxiwNd97o7ngTLE5UElFHS+amyuF8VFRHRQaUmqnWReE01FOJBRTALlLcDj3jhxa7RGEG+xhIP4KgfqBNWC5G2IDXxSEJLEDI/nAD9O0GyqGo7n+IAp3+VGMVPrNZVFS8DoSjKRPKrJeRHoYsjeV9WhXtSOL57S92PGFUnErDbL7ROuRwFD/QaSQztRhX023pBPzt9Sg57vhK99Y4WVt7pwjQW6J487aSlMSMVGsSYmpVUURPuDLcv+6iXE2NkzOY=");
	}

}
